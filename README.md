# ローカルRAGプロジェクト

このプロジェクトは、ローカル環境でRetrieval-Augmented Generation (RAG) システムを実現することを目的としています。

## 目的

ローカル環境でRAGを実装し、効率的な情報検索と生成を可能にします。これにより、外部APIに依存せずに、カスタマイズされた質問応答システムを構築できます。

## セットアップ

1. リポジトリをクローンします：
   ```
   git clone https://github.com/outan/local_rag
   ```

1. プロジェクトディレクトリに移動します：
   ```
   cd [プロジェクトディレクトリ名]
   ```

1. 仮想環境を作成し、アクティブ化します：
   ```
   python -m venv rag_env
   source rag_env/bin/activate  # Linuxの場合
   # または
   rag_env\Scripts\activate  # Windowsの場合
   ```

1. 依存関係をインストールします：
   ```
   pip install -r requirements.txt
   ```

## プロジェクト構造

- `basic_rag.py`: RAGシステムの主要なロジックを含むスクリプト
- `data_preparation.py`: データの準備とベクトルストアの作成を行うスクリプト
- `check_faiss.py`: FAISSベクトルストアの確認用スクリプト
- `requirements.txt`: プロジェクトの依存関係リスト
- `.gitignore`: バージョン管理から除外するファイルやディレクトリを指定
- `data/`: サンプルデータを含むディレクトリ
- `vectorstore/`: FAISSベクトルストアのデータを保存するディレクトリ（gitignoreされています）

## 使用方法

1. データの準備：
- data/フォルダにテキストファイル（.txtまたは.md）を用意してください。
- これらのファイルがRAGシステムの知識ベースとなります。

1. ベクトルストアの作成：
   ```
   python vectorstore_preparation.py
   ```
   - 対象：`data/`フォルダ内のテキストファイル（.txtまたは.md）
   - 結果：`vectorstore/`フォルダにFAISSベクトルストアが作成されます
        - index.faiss: FAISSインデックスファイル（ベクトルデータを格納）
        - index.pkl: メタデータと設定情報を含むPickleファイル
    - 各ファイルの役割：
        - index.faiss: テキストの埋め込みベクトルを効率的に検索できる形式で保存
        - index.pkl: 以下の情報を保存
            - ドキュメントメタデータ
                - 各ドキュメントの元のファイル名
                - ドキュメントのID
                - テキストチャンクの位置情報（開始位置、終了位置）
            - インデックス構造情報
                - FAISSインデックスの構造に関する情報
                - ベクトルIDとドキュメントIDのマッピング
            - 埋め込み設定（モデル名、次元数）
            - テキスト分割設定（チャンクサイズ、オーバーラップ）
            - 検索設定：デフォルトの類似度検索パラメータ（例：k値）
            - その他の設定（バージョン、作成日時など）

1. ベクトルストアの確認：
   ```
   python check_faiss.py
   ```

1. RAGシステムの実行：
   ```
   python basic_rag.py
   ```

## 注意事項

- このプロジェクトはローカル環境で動作するように設計されています。
- 大規模なデータセットを扱う場合は、メモリ使用量に注意してください。
- モデルやベクトルデータベースの選択は、パフォーマンスと精度のバランスを考慮して行ってください。


## ライセンス
